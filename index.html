<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä¸€ å€‹ é…· æ± è¥¿</title>
  <!-- å¼•å…¥ Noto Sans TC å­—é«” -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    /* è‡ªå®šç¾© CSS æ¨£å¼ */
    body {
      font-family: 'Noto Sans TC', sans-serif;
      background: linear-gradient(45deg, #ff9a9e, #fad0c4, #fbc2eb, #a6c1ee);
      background-size: 400% 400%;
      animation: gradientBG 10s ease infinite;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .animate-fade-in {
      opacity: 0;
      transform: translateY(10px);
      animation: fadeIn 2s ease-in forwards;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .hidden-message {
      font-family: 'Dancing Script', cursive;
      font-size: 1.8rem;
      text-align: center;
      color: #ff69b4;
      opacity: 0;
      animation: fadeIn 3s ease-in forwards, heartbeat 1.5s infinite;
      cursor: pointer;
    }

    @keyframes heartbeat {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    .hidden { display: none; }

    .input-btn {
      width: 100%;
      padding: 12px;
      border-radius: 8px;
      font-size: 16px;
    }

    .countdown {
      font-size: 1.5rem;
      color: #4a5568;
      font-weight: bold;
    }

    .animate-bounce {
      animation: bounce 1s infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    @keyframes fall {
      0% { transform: translateY(-100vh) rotate(0deg); }
      100% { transform: translateY(100vh) rotate(360deg); }
    }

    .heart {
      position: fixed;
      font-size: 24px;
      color: #ff69b4;
      animation: fall 5s linear infinite;
      pointer-events: none;
    }

    .letter-container {
      position: relative;
      background: #fff;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      padding: 20px;
      max-width: 600px;
      margin: 20px auto;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      overflow: hidden;
    }

    .letter-container.open {
      transform: scale(1.1);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }

    .letter-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.5s ease, opacity 0.5s ease;
      opacity: 0;
    }

    .letter-container.open .letter-content {
      max-height: 500px;
      opacity: 1;
    }

    .letter-header {
      font-family: 'Dancing Script', cursive;
      font-size: 2rem;
      color: #ff69b4;
      text-align: center;
      margin-bottom: 20px;
    }

    .tooltip {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 14px;
      z-index: 1000;
      animation: fadeIn 0.5s ease-in forwards;
    }

    .confirmation-dialog {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
      z-index: 1000;
      max-width: 90%;
      text-align: center;
    }
    
    .dialog-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin-top: 1.5rem;
    }
    
    .dialog-button {
      padding: 0.5rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .confirm-btn {
      background: #4CAF50;
      color: white;
    }
    
    .cancel-btn {
      background: #f44336;
      color: white;
    }
    
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 999;
    }

    @media (max-width: 768px) {
      .text-2xl { font-size: 1.5rem; }
      .text-3xl { font-size: 2rem; }
    }
  </style>
</head>
<body class="min-h-screen p-4">
  <div id="loading" class="fixed inset-0 bg-white flex items-center justify-center">
    <div class="animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"></div>
  </div>

  <div class="max-w-full mx-auto bg-white rounded-xl shadow-lg p-6 relative overflow-hidden" id="birthday-card">
    <div id="countdown-section" class="text-center">
      <h2 class="text-2xl font-semibold mb-4 text-purple-600">å€’æ•¸è¨ˆæ™‚ä¸­</h2>
      <p id="countdown" class="countdown">è·é›¢è§£é–é‚„æœ‰ï¼š--:--:--</p>
    </div>
    <div id="password-section" class="text-center hidden">
      <h2 class="text-2xl font-semibold mb-6 text-purple-600">è«‹è¼¸å…¥å¯†ç¢¼</h2>
      <form id="password-form" class="space-y-4">
        <input type="password" id="password" placeholder="è«‹è¼¸å…¥å¯†ç¢¼" class="border p-2 rounded w-full" />
        <button type="submit" class="bg-purple-600 text-white p-2 rounded w-full animate-bounce">ç¢ºèª</button>
      </form>
    </div>
    <div id="message-section" class="prose prose-purple max-w-none animate-fade-in hidden"></div>
    <div id="confession-section" class="prose prose-purple max-w-none animate-fade-in hidden"></div>
  </div>

  <audio autoplay loop>
    <source src="path/to/your/music.mp3" type="audio/mpeg">
    æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æŒéŸ³é »å…ƒç´ ã€‚
  </audio>

  <button id="music-control" class="fixed bottom-4 right-4 bg-purple-600 text-white p-2 rounded-full">
    <span id="music-icon">ğŸµ</span>
  </button>

  <!-- å¼•å…¥ EmailJS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script>
    // åˆå§‹åŒ– EmailJS
    (function () {
      emailjs.init('M8Xxa0MNcVmoZhRxP'); // æ›¿æ›ç‚ºä½ çš„ EmailJS ç”¨æˆ¶ ID
    })();

    function decodeBase64(encoded) {
      return atob(encoded);
    }

    function showCustomConfirm(message, callback) {
      const overlay = document.createElement('div');
      overlay.className = 'overlay';
      
      const dialog = document.createElement('div');
      dialog.className = 'confirmation-dialog';
      dialog.innerHTML = `
        <p class="text-lg font-semibold mb-4">${message}</p>
        <input type="text" id="verification-code" placeholder="" class="border p-2 rounded w-full mb-4" />
        <div class="dialog-buttons">
          <button class="dialog-button confirm-btn">ç¢ºå®šé–‹å•Ÿ</button>
          <button class="dialog-button cancel-btn">æš«æ™‚ä¸è¦</button>
        </div>
        <p id="error-message" class="text-red-500 text-sm mt-2 hidden"></p>
      `;

      const confirmBtn = dialog.querySelector('.confirm-btn');
      const cancelBtn = dialog.querySelector('.cancel-btn');
      const verificationInput = dialog.querySelector('#verification-code');
      const errorMessage = dialog.querySelector('#error-message');

      let errorCount = 0; // æ¯æ¬¡é‡æ–°æ•´ç†æ™‚é‡ç½®éŒ¯èª¤è¨ˆæ•¸
      const maxErrorCount = 3;

      verificationInput.addEventListener('input', function () {
        this.value = this.value.replace(/[^\u4e00-\u9fa5]/g, ''); // åªå…è¨±ä¸­æ–‡å­—ç¬¦
      });

      const cleanup = () => {
        document.body.removeChild(overlay);
        document.body.removeChild(dialog);
      };

      confirmBtn.addEventListener('click', () => {
        const verificationCode = verificationInput.value.trim();

        if (errorCount >= maxErrorCount) {
          errorMessage.textContent = 'éŒ¯èª¤æ¬¡æ•¸éå¤šï¼Œè«‹é‡æ–°æ•´ç†é é¢å¾Œå†è©¦ï¼';
          errorMessage.classList.remove('hidden');
          return;
        }

        if (verificationCode.length !== 3) {
          errorMessage.textContent = 'è«‹è¼¸å…¥ä¸‰å€‹ä¸­æ–‡å­—ï¼';
          errorMessage.classList.remove('hidden');
          errorCount++;
          return;
        }

        if (verificationCode !== 'é™³æ˜€æ¾¤') {
          errorMessage.textContent = 'åå­—éŒ¯èª¤ï¼Œè«‹é‡æ–°è¼¸å…¥ï¼';
          errorMessage.classList.remove('hidden');
          errorCount++;
          return;
        }

        cleanup();
        callback(true);
      });

      cancelBtn.addEventListener('click', () => {
        cleanup();
        callback(false);
      });

      document.body.appendChild(overlay);
      document.body.appendChild(dialog);
    }

    document.addEventListener('DOMContentLoaded', function () {
      const correctPassword = decodeBase64('MDExMg=='); // å¯†ç¢¼ï¼š0112
      const secretPassword = decodeBase64('SUxPVkVZ'); // å¯†ç¢¼ï¼šILOVEY
      const targetDate = new Date('2025-01-12T00:00:00'); // è§£é–æ—¥æœŸ
      const unlockDate = new Date('2025-01-13T00:00:00'); // å½©è›‹è§£é–æ—¥æœŸ
      const countdownElement = document.getElementById('countdown');
      const countdownSection = document.getElementById('countdown-section');
      const passwordSection = document.getElementById('password-section');
      const messageSection = document.getElementById('message-section');
      const passwordForm = document.getElementById('password-form');
      const passwordInput = document.getElementById('password');
      const loadingSection = document.getElementById('loading');
      const confessionSection = document.getElementById('confession-section');

      function createHearts() {
        const heartContainer = document.createElement('div');
        heartContainer.style.position = 'fixed';
        heartContainer.style.top = '0';
        heartContainer.style.left = '0';
        heartContainer.style.width = '100%';
        heartContainer.style.height = '100%';
        heartContainer.style.pointerEvents = 'none';
        document.body.appendChild(heartContainer);

        for (let i = 0; i < 20; i++) {
          const heart = document.createElement('div');
          heart.innerHTML = 'â¤ï¸';
          heart.classList.add('heart');
          heart.style.left = `${Math.random() * 100}%`;
          heart.style.animationDelay = `${Math.random() * 5}s`;
          heartContainer.appendChild(heart);
        }
      }

      function updateCountdown() {
        const now = new Date();
        const timeRemaining = targetDate - now;

        if (timeRemaining <= 0) {
          countdownSection.style.display = 'none';
          passwordSection.classList.remove('hidden');
        } else {
          const hours = Math.floor((timeRemaining / (1000 * 60 * 60)) % 24);
          const minutes = Math.floor((timeRemaining / (1000 * 60)) % 60);
          const seconds = Math.floor((timeRemaining / 1000) % 60);
          countdownElement.textContent = `è·é›¢è§£é–é‚„æœ‰ï¼š${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
      }

      passwordForm.addEventListener('submit', function (e) {
        e.preventDefault();
        try {
          if (passwordInput.value === correctPassword) {
            passwordSection.style.display = 'none';
            messageSection.classList.remove('hidden');
            messageSection.innerHTML = `
              <h1 class="text-3xl font-bold text-center mb-8 text-purple-600">ğŸ‰ ğ“—ğ“ªğ“¹ğ“¹ğ”‚ ğ“‘ğ“²ğ“»ğ“½ğ“±ğ“­ğ“ªğ”‚ï¼ğŸ‰</h1>
              <div class="space-y-6 text-gray-700">
                <p class="font-semibold text-fade fade-delay-1">çµ¦ zizzaï¼š</p>
                <p class="text-fade fade-delay-2">å…ˆç¥å¦³ç”Ÿæ—¥å¿«æ¨‚ï¼ğŸ‰</p>
                <p class="text-fade fade-delay-3">å›æƒ³é€™å¹¾å¹´ï¼Œæ¯æ¬¡çœ‹åˆ°å¦³åˆæœ‰ä¸æœƒçš„å•é¡Œï¼Œéƒ½æ˜¯ä¸€è‡‰æ‡µçš„æ¨£å­ï¼Œé›–ç„¶å¿ƒè£¡æƒ³ç¬‘ï¼Œä½†é‚„æ˜¯æœƒå¹«å¦³æ‰¾åˆ°ç­”æ¡ˆã€‚</p>
                <p class="text-fade fade-delay-4">ç„¶å¾Œæ¯æ¬¡å¹«å¦³è§£ç­”å®Œå•é¡Œï¼Œçœ‹åˆ°å¦³å¾ˆé–‹å¿ƒçš„æ¨£å­ï¼Œæˆ‘éƒ½æœƒè¦ºå¾—ç‰¹åˆ¥æœ‰æˆå°±æ„Ÿã€‚</p>
                <p class="text-fade fade-delay-5">ä¹Ÿè¬è¬å¦³ï¼Œè¬è¬å¦³åœ¨æˆ‘ç”Ÿæ—¥æ™‚ï¼Œé›–ç„¶æ™šäº†ä¸€å¤©ï¼Œä»ç‰¹åœ°ä¾†å°æˆ‘èªªã€Œç”Ÿæ—¥å¿«æ¨‚ã€ã€‚<br>å°å¦³ä¾†èªªï¼Œé€™æˆ–è¨±åªæ˜¯ä¸€å¥ç°¡å–®çš„è©±ï¼Œä½†å°æˆ‘ä¾†èªªï¼Œå»æ˜¯ä»Šå¹´æœ€ç‰¹åˆ¥çš„ç¦®ç‰©ã€‚<br>ç¾åœ¨ï¼Œè¼ªåˆ°æˆ‘ä¾†é€å¦³ç¥ç¦ï¼Œé€™ä¸€æ¬¡ï¼Œæˆ‘ä¸€å®šä¸æœƒå¿˜ï¼Œä¹Ÿä¸æœƒé²åˆ°ï¼Œç¬¬ä¸€æ™‚é–“é€ä¸Šæˆ‘çš„ç¥ç¦ã€‚</p>
                <p class="text-fade fade-delay-6">ä»Šå¤©æ˜¯å¦³çš„ç”Ÿæ—¥ï¼Œæˆ‘ä¸åƒ…å¸Œæœ›å¦³å¿«æ¨‚ï¼Œé‚„å¸Œæœ›æœªä¾†çš„æ—¥å­è£¡ï¼Œå¦³èƒ½ä¸€ç›´å¹¸ç¦è‡ªåœ¨ï¼Œä¸¦èˆ‡å¦³çš„ç”·æœ‹å‹ç¹¼çºŒæ”œæ‰‹èµ°ä¸‹å»ã€‚<br>ç­‰åˆ°ç•¢æ¥­å¾Œï¼Œæˆ–è¨±æˆ‘å€‘æœƒå„è‡ªå¥”å‘ä¸åŒçš„æ–¹å‘ï¼Œä½†æˆ‘ç›¸ä¿¡ï¼Œå¦³ä¸€å®šèƒ½æ‰¾åˆ°å±¬æ–¼è‡ªå·±çš„è·¯ã€‚<br>å³ä½¿é‚£æ™‚æ²’æœ‰äººå†å¹«å¦³å¯«ä½œæ¥­ï¼Œæˆ‘ä¹Ÿç›¸ä¿¡å¦³èƒ½ç¨ç«‹è§£æ±ºä¸€åˆ‡ã€‚</p>
                <p class="text-fade fade-delay-7">é€™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å¯«å¡ç‰‡çµ¦åˆ¥äººï¼Œæ‡‰è©²ä¹Ÿæ˜¯æœ€å¾Œä¸€æ¬¡å¯«çµ¦å¦³ã€‚<br>ä¸‹ä¸€æ¬¡å¦³çš„ç”Ÿæ—¥ï¼Œæˆ–è¨±æˆ‘å€‘å·²ç¶“å„è‡ªèµ°ä¸Šä¸åŒçš„é“è·¯ï¼Œä½†æˆ‘æœƒæ°¸é è¨˜å¾—ï¼Œæœ‰ä¸€å€‹åƒå¦³é€™æ¨£çš„å‚»é€¼ï¼Œæ›¾åœ¨æˆ‘çš„ç”Ÿå‘½è£¡ç•™ä¸‹äº†æ·±åˆ»çš„ç—•è·¡ã€‚</p>
                <p class="text-fade fade-delay-8">æœ€å¾Œï¼Œå†æ¬¡ç¥å¦³ç”Ÿæ—¥å¿«æ¨‚ï¼ğŸ‚</p>
                <p class="text-right font-semibold text-fade fade-delay-9">ğŸ”¥</p>
              </div>
              ${new Date() >= unlockDate ? '<div id="hidden-message" class="hidden-message">å¦³æ›¾æ˜¯æˆ‘æœ€åœ¨æ„çš„äºº â¤ï¸</div>' : ''}
            `;

            if (new Date() >= unlockDate) {
              const hiddenMessage = document.getElementById('hidden-message');
              hiddenMessage.addEventListener('click', function () {
                showCustomConfirm('ğŸ’– é€™æ˜¯ä¸€å€‹ç‰¹åˆ¥çš„å½©è›‹ï¼<br>âš ï¸ å…§å®¹åŒ…å«éš±è—è¨Šæ¯ç¢ºå®šè¦æŸ¥çœ‹å—ï¼Ÿ<br>æç¤º:è«‹è¼¸å…¥å¦³è¦ºå¾—å°å¦³æœ€å¥½çš„äººæ˜¯èª°ï¼Ÿï¼ˆè«‹è¼¸å…¥å…¨åï¼‰', (confirmed) => {
                  if (!confirmed) return;

                  confessionSection.classList.remove('hidden');
                  showConfession();
                  createHearts();

                  const tooltip = document.createElement('div');
                  tooltip.classList.add('tooltip');
                  tooltip.textContent = 'é»æ“Šä¿¡å°æŸ¥çœ‹å…§å®¹';
                  document.body.appendChild(tooltip);

                  setTimeout(() => tooltip.remove(), 3000);
                });
              });
            }
          } else if (passwordInput.value === secretPassword) {
            passwordSection.style.display = 'none';
            confessionSection.classList.remove('hidden');
            showConfession();
            createHearts();

            const tooltip = document.createElement('div');
            tooltip.classList.add('tooltip');
            tooltip.textContent = 'é»æ“Šä¿¡å°æŸ¥çœ‹å…§å®¹';
            document.body.appendChild(tooltip);

            setTimeout(() => tooltip.remove(), 3000);
          } else {
            throw new Error('å¯†ç¢¼é©—è­‰å¤±æ•—');
          }
        } catch (error) {
          alert('ç³»çµ±å¿™ç¢Œä¸­ï¼Œè«‹ç¨å¾Œå†è©¦');
          console.error('ç³»çµ±éŒ¯èª¤:', error);
        }
      });

      function showConfession() {
      confessionSection.innerHTML = `
        <div class="letter-container">
          <div class="letter-header">ğŸ’Œ çµ¦å¦³çš„æ‚„æ‚„è©± ğŸ’Œ</div>
          <div class="letter-content">
            <p class="text-fade fade-delay-1">å¦‚æœå¦³æœ‰çœ‹åˆ°é€™å°ä¿¡ï¼Œæˆ‘æœƒéå¸¸é–‹å¿ƒï¼Œå› ç‚ºé€™ä»£è¡¨å¦³é¡˜æ„èŠ±æ™‚é–“äº†è§£æˆ‘çš„å¿ƒæ„ã€‚<br>å…¶å¯¦ï¼Œæœ‰äº›è©±æˆ‘ä¸€ç›´è—åœ¨å¿ƒè£¡ï¼Œ<br>å› ç‚ºæˆ‘æ˜¯ä¿—è¾£ï¼Œ<br>æ‰€ä»¥æˆ‘åªæ•¢åœ¨é€™å‘Šè¨´å¦³...</p>
              <p class="text-fade fade-delay-2">æˆ‘å–œæ­¡å¦³ã€‚</p>
              <p class="text-fade fade-delay-3">ä¸æ˜¯å› ç‚ºå¦³çš„å¤–è¡¨ï¼Œä¹Ÿä¸æ˜¯å› ç‚ºå¦³çš„å…§åœ¨ï¼Œ<br>è€Œæ˜¯å› ç‚ºå¦³ç¨ä¸€ç„¡äºŒçš„æ™ºå•†(ç¬¨ç¬¨çš„)ï¼Œ<br>è®“æˆ‘æ¿€èµ·ä¸€è‚¡æƒ³è¦ä¿è­·å¦³çš„æƒ³æ³•ã€‚</p>
              <p class="text-fade fade-delay-4">æˆ‘å¸¸å¸¸æƒ³åƒï¼Œå¦‚æœæˆ‘å€‘èƒ½æ›´é è¿‘ä¸€é»ï¼Œ</p>
              <p class="text-fade fade-delay-5">æˆ‘æœƒç”¨ç›¡å…¨åŠ›è®“å¦³æ¯å¤©éƒ½æ„Ÿåˆ°å¹¸ç¦ã€‚<br>ä½†æˆ‘ä¹Ÿæ˜ç™½ï¼Œæœ‰äº›ç·£åˆ†æˆ–è¨±åªèƒ½åœç•™åœ¨ç¾å¥½çš„å›æ†¶è£¡ã€‚</p>
              <p class="text-fade fade-delay-6">å¦‚æœç•¶åˆæˆ‘èƒ½æ›´å‹‡æ•¢ä¸€é»ï¼Œæˆ–è¨±æˆ‘å€‘çš„æ•…äº‹æœƒä¸ä¸€æ¨£å§ï¼Ÿ<br>ç„¡è«–æœªä¾†å¦‚ä½•ï¼Œæˆ‘éƒ½æœƒé»˜é»˜å®ˆè­·å¦³ï¼Œæ”¯æŒå¦³ã€‚<br>å¦‚æœæœ‰ä¸€å¤©å¦³éœ€è¦æˆ‘ï¼Œ<br>è«‹è¨˜å¾—æˆ‘æ°¸é åœ¨é€™è£¡ï¼Œéš¨æ™‚é¡˜æ„ç‚ºå¦³ä¼¸å‡ºé›™æ‰‹ (0979-370105)ã€‚</p>
              <p class="text-fade fade-delay-7">ç¥å¦³ç”Ÿæ—¥å¿«æ¨‚ï¼Œé¡˜å¦³çš„æ¯ä¸€å¤©éƒ½å……æ»¿ç¬‘å®¹èˆ‡å¹¸ç¦ã€‚</p>
              <p class="text-right font-semibold text-fade fade-delay-8">â¤ï¸</p>
          </div>
        </div>
        <div id="question-section" class="mt-8 text-center hidden">
          <p class="text-2xl font-semibold mb-4">å¦‚æœæ™‚å…‰èƒ½å€’æµï¼Œå¦³é¡˜æ„è·Ÿæˆ‘åœ¨ä¸€èµ·å—ï¼Ÿ</p>
          <div class="space-x-4">
            <button id="yes-btn" class="bg-green-500 text-white px-6 py-2 rounded-full hover:bg-green-600 transition duration-300">é¡˜æ„</button>
            <button id="no-btn" class="bg-red-500 text-white px-6 py-2 rounded-full hover:bg-red-600 transition duration-300">ä¸é¡˜æ„</button>
          </div>
        </div>
      `;

      const letterContainer = document.querySelector('.letter-container');
      const questionSection = document.getElementById('question-section');

      letterContainer.addEventListener('click', function () {
        this.classList.toggle('open');
        if (this.classList.contains('open')) {
          // å»¶é² 1 ç§’å¾Œé¡¯ç¤ºå•é¡Œ
          setTimeout(() => {
            questionSection.classList.remove('hidden');
          }, 10000); // å»¶é²æ™‚é–“å¯èª¿æ•´ (å–®ä½ï¼šæ¯«ç§’)
        } else {
          questionSection.classList.add('hidden');
        }
      });

      // æŒ‰éˆ•é»æ“Šäº‹ä»¶ä¿æŒä¸è®Š
      const yesBtn = document.getElementById('yes-btn');
      const noBtn = document.getElementById('no-btn');

      yesBtn.addEventListener('click', () => {
        emailjs.send('service_uwrydxg', 'template_sknrdaw', { answer: 'é¡˜æ„' })
          .then(() => {
            alert('è¬è¬å¦³ï¼æˆ‘æœƒå¥½å¥½çæƒœé€™å€‹æ©Ÿæœƒï¼â¤ï¸');
          })
          .catch((error) => {
            console.error('ç™¼é€éƒµä»¶å¤±æ•—:', error);
          });
      });

      noBtn.addEventListener('click', () => {
        emailjs.send('service_uwrydxg', 'template_sknrdaw', { answer: 'ä¸é¡˜æ„' })
          .then(() => {
            alert('æ²’é—œä¿‚ï¼Œæˆ‘æœƒç¹¼çºŒé»˜é»˜å®ˆè­·å¦³ï¼ğŸ˜Š');
          })
          .catch((error) => {
            console.error('ç™¼é€éƒµä»¶å¤±æ•—:', error);
          });
      });
    }

      window.addEventListener('load', function () {
        loadingSection.style.display = 'none';
      });

      setInterval(updateCountdown, 1000);

      const audio = document.querySelector('audio');
      const musicControl = document.getElementById('music-control');
      const musicIcon = document.getElementById('music-icon');

      musicControl.addEventListener('click', function () {
        if (audio.paused) {
          audio.play();
          musicIcon.textContent = 'ğŸµ';
        } else {
          audio.pause();
          musicIcon.textContent = 'ğŸ”‡';
        }
      });
    });
  </script>
</body>
</html>
